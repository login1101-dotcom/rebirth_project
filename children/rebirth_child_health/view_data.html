<!DOCTYPE html>
<html lang="ja">

<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-1F416P0VQS"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-1F416P0VQS');
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>„Éá„Éº„ÇøÈÄ≤Êçó | Body Logic</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ü•ó</text></svg>">
    <style>
        .data-section {
            background: white;
            padding: 2rem;
            border-radius: 16px;
            border: 1px solid var(--border);
            margin-bottom: 2rem;
        }

        .data-header {
            font-size: 1.4rem;
            font-weight: 800;
            color: var(--text-main);
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 0.5rem;
            border-bottom: 2px solid var(--border);
            padding-bottom: 0.5rem;
        }

        /* Summary Dashboard */
        .summary-dashboard {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .summary-card {
            background: linear-gradient(135deg, #ffffff 0%, #f1f5f9 100%);
            padding: 1.5rem;
            border-radius: 20px;
            border: 1px solid #e2e8f0;
            text-align: center;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
        }

        .summary-card .label {
            font-size: 0.85rem;
            color: var(--text-light);
            margin-bottom: 0.5rem;
            display: block;
        }

        .summary-card .value {
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--text-main);
        }

        .summary-card .unit {
            font-size: 0.9rem;
            margin-left: 2px;
            color: var(--text-light);
        }

        .data-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .data-card {
            background: #f8fafc;
            padding: 1.2rem;
            border-radius: 12px;
            border: 1px solid #e2e8f0;
        }

        .data-card h3 {
            font-size: 1rem;
            color: var(--text-light);
            margin-bottom: 1rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            display: flex;
            justify-content: space-between;
        }

        .log-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9rem;
        }

        .log-table th,
        .log-table td {
            padding: 0.6rem;
            border-bottom: 1px solid #e2e8f0;
            text-align: left;
        }

        .log-table th {
            color: var(--text-light);
            font-weight: 500;
        }

        .status-badge-mini {
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: bold;
        }

        .bg-ok {
            background: #dcfce7;
            color: #15803d;
        }

        .bg-ng {
            background: #fee2e2;
            color: #dc2626;
        }

        .volume-tag {
            font-family: monospace;
            font-weight: bold;
            color: var(--primary);
        }

        .focus-select {
            padding: 0.4rem 0.8rem;
            border-radius: 8px;
            border: 1px solid var(--border);
            font-size: 0.9rem;
            background: white;
            color: var(--text-main);
            cursor: pointer;
        }

        /* Session History Styling */
        .session-history {
            grid-column: span 2;
            margin-top: 1.5rem;
            padding-top: 1.5rem;
            border-top: 1px dashed #e2e8f0;
            display: none;
            /* Hidden unless focused */
        }

        .session-date {
            display: inline-block;
            padding: 4px 10px;
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 6px;
            font-size: 0.85rem;
            color: var(--text-main);
            margin-right: 0.5rem;
            margin-bottom: 0.5rem;
        }

        .session-date i {
            color: var(--text-light);
            margin-right: 4px;
            font-style: normal;
        }
    </style>
</head>

<body>
    <header>
        <div class="container header-inner">
            <a href="index.html" class="site-brand"><span>ü•ó</span> Body Logic<span
                    style="font-size: 0.8rem; color: #64748b; margin-left: 10px; font-weight: normal;">Ë¶ã„ÅüÁõÆ„ÅÆ„ÅÑ„ÅÑÂÅ•Â∫∑„Å™‰Ωì„ÇíÊâã„Å´„ÅÑ„Çå„Çã</span></a>
            <nav class="main-nav">
                <ul>
                    <li><a href="index.html">„Éõ„Éº„É†</a></li>
                    <li><a class="nav-diet" href="category_diet.html">È£ü‰∫ã</a></li>
                    <li><a class="nav-muscle" href="category_muscle.html">Á≠ã„Éà„É¨</a></li>
                    <li><a class="nav-sleep" href="category_sleep.html">Áù°Áú†</a></li>
                    <li><a class="nav-others" href="category_others.html">„Åù„ÅÆ‰ªñ</a></li>
                    <li><a class="nav-view-data active" href="view_data.html">„Éá„Éº„ÇøË°®Á§∫</a></li>
                    <li><a href="../../index.html">‚Üê Project Hub</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <div class="container main-layout">
        <main class="content-area">

            <!-- „Çµ„Éû„É™„Éº„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ -->
            <div class="summary-dashboard">
                <div class="summary-card" id="cardWeight">
                    <span class="label">Âπ≥Âùá‰ΩìÈáç (Weekly)</span>
                    <div class="value">72.6<span class="unit">kg</span></div>
                </div>
                <div class="summary-card" id="cardSteps">
                    <span class="label">Âπ≥ÂùáÊ≠©Êï∞ (Weekly)</span>
                    <div class="value">8,028<span class="unit">Ê≠©</span></div>
                </div>
                <div class="summary-card" id="cardSleep">
                    <span class="label">Âπ≥ÂùáÁù°Áú† (Weekly)</span>
                    <div class="value">6.9<span class="unit">h</span></div>
                </div>
                <div class="summary-card" id="cardTraining">
                    <span class="label">„Éà„É¨„Éº„Éã„É≥„Ç∞Áä∂Ê≥Å</span>
                    <div class="value" style="font-size:1.2rem;">ÊúÄÁµÇ: Êò®Êó•<span class="unit"></span></div>
                </div>
            </div>

            <!-- È£ü‰∫ã„Éá„Éº„Çø„Çª„ÇØ„Ç∑„Éß„É≥ -->
            <section class="data-section">
                <div class="data-header">üç≥ È£ü‰∫ã„ÉªÁ∂ôÁ∂ö„É≠„Ç∞</div>
                <div class="data-grid">
                    <div class="data-card">
                        <h3>Áõ¥Ëøë„ÅÆÈ£ü‰∫ãÂÜÖÂÆπ <span>Ëá™ÁÇäÁéá: 85%</span></h3>
                        <table class="log-table">
                            <thead>
                                <tr>
                                    <th>Êó•ÊôÇ</th>
                                    <th>ÂÜÖÂÆπ</th>
                                    <th>Ëá™ÁÇä</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>01/06 11:14</td>
                                    <td>
                                        <div style="font-size:0.85rem; line-height:1.4;">
                                            07:19 „Åä„Å´„Åé„Çä 1, „Çµ„É≥„Éâ„Éè„Éº„Éï 3<br>
                                            08:00 „Çµ„É≥„Éâ„Ç§„ÉÉ„ÉÅ<br>
                                            09:00 „Åä„Å´„Åé„Çä<br>
                                            10:00 „Çµ„É≥„Éâ„Ç§„ÉÉ„ÉÅ<br>
                                            11:00 Êï£Ê≠© (14ÂàÜ)
                                        </div>
                                    </td>
                                    <td><span class="status-badge-mini bg-ok">OK</span></td>
                                </tr>
                                <tr>
                                    <td>12/27</td>
                                    <td>
                                        <div style="font-size:0.85rem; line-height:1.4;">
                                            „Çµ„É≥„Éâ„Ç§„ÉÉ„ÉÅÔºà„Éû„É®„Éª„Ç±„ÉÅ„É£„ÉÉ„Éó„Éª„Ç∑„Éº„ÉÅ„Ç≠„É≥Ôºâ<br>
                                            „Åä„Å´„Åé„ÇäÔºàÂ°©Ôºâ
                                        </div>
                                    </td>
                                    <td><span class="status-badge-mini bg-ok">OK</span></td>
                                </tr>
                                <tr>
                                    <td>12/26 13:20</td>
                                    <td>
                                        <div style="font-size:0.85rem; line-height:1.4;">
                                            &lt;ÊúùÈ£ü&gt;<br>
                                            „Çµ„É≥„Éâ„Ç§„ÉÉ„ÉÅÔºà„Éè„É≥„Éê„Éº„Ç∞„ÉªÈáéËèú„Éª„Éû„É®„Éª„Ç±„ÉÅ„É£„ÉÉ„Éó„Éª„ÉÅ„Éº„Ç∫„Éª„Ç≠„É£„Éô„ÉÑÔºâ<br>
                                            „Åä„Å´„Åé„ÇäÔºà„Åó„ÇÉ„Åë„Éï„É¨„Éº„ÇØ„Éª„Åó„Çá„ÅÜ„ÇÜ„Éª„ÅÆ„ÇäÔºâ<br>
                                            <br>
                                            &lt;ÈñìÈ£ü&gt;<br>
                                            04:30 „Åø„Åã„Çì<br>
                                            09:00È†É „Éê„Éä„Éä<br>
                                            10:24 „Åø„Åã„Çì<br>
                                            13:20 „Éê„Éä„Éä<br>
                                            <br>
                                            &lt;Â§ïÈ£ü 19:00È†É&gt;<br>
                                            „Å®„Çì„Åã„Å§1„ÄÅ„Åã„Çâ„ÅÇ„Åí1„ÄÅ„Åì„ÇÅx2„ÄÅ„Åü„Åæ„Å≠„Åé„ÅÇ„Åí„ÄÅ„ÅÇ„Åü„Åæ
                                        </div>
                                    </td>
                                    <td><span class="status-badge-mini bg-ok">OK</span></td>
                                </tr>
                                <tr>
                                    <td>12/25 08:30</td>
                                    <td>
                                        <div style="font-size:0.85rem; line-height:1.4;">
                                            „Çµ„É≥„Éâ„Ç§„ÉÉ„ÉÅÔºà„Éû„É®„Éª„Ç±„ÉÅ„É£„ÉÉ„Éó„Éª„ÉÅ„Éº„Ç∫„Éª„Ç≠„É£„Éô„ÉÑÔºâ<br>
                                            „Åä„Å´„Åé„ÇäÔºà„Åó„ÇÉ„Åë„Éï„É¨„Éº„ÇØ„Éª„Åó„Çá„ÅÜ„ÇÜ„Éª„ÅÆ„ÇäÔºâ<br>
                                            „Ç™„Éº„Éà„Éü„Éº„É´„ÄÅÁ¥çË±Ü„ÄÅÂçµ
                                        </div>
                                    </td>
                                    <td><span class="status-badge-mini bg-ok">OK</span></td>
                                </tr>
                                <tr>
                                    <td>12/24 11:00</td>
                                    <td>
                                        <div style="font-size:0.85rem; line-height:1.4;">
                                            „Çµ„É≥„Éâ„Ç§„ÉÉ„ÉÅÔºà„Ç∑„Éº„ÉÅ„Ç≠„É≥„Éû„É®„Éª„ÉÅ„Éº„Ç∫„Éª„É¨„Çø„ÇπÔºâ<br>
                                            „Åä„Å´„Åé„ÇäÔºà„Ç∑„Éº„ÉÅ„Ç≠„É≥„ÉªÂ°©Ôºâ<br>
                                            „Éê„Éä„Éä 1
                                        </div>
                                    </td>
                                    <td><span class="status-badge-mini bg-ok">OK</span></td>
                                </tr>
                                <tr>
                                    <td>12/24 12:30</td>
                                    <td>ÈØñ„ÅÆÂ°©ÁÑº„ÅçÂÆöÈ£ü</td>
                                    <td><span class="status-badge-mini bg-ng">Â§ñÈ£ü</span></td>
                                </tr>
                                <tr>
                                    <td>12/23</td>
                                    <td>
                                        <div style="font-size:0.85rem; line-height:1.4;">
                                            „Çµ„É≥„Éâ„Ç§„ÉÉ„ÉÅÔºà„Ç∑„Éº„ÉÅ„Ç≠„É≥„Éû„É®Ôºâ<br>
                                            „Åä„Å´„Åé„ÇäÔºàÂ°©Ôºâ
                                        </div>
                                    </td>
                                    <td><span class="status-badge-mini bg-ok">OK</span></td>
                                </tr>
                                <tr>
                                    <td>12/22</td>
                                    <td>
                                        <div style="font-size:0.85rem; line-height:1.4;">
                                            „Çµ„É≥„Éâ„Ç§„ÉÉ„ÉÅÔºà„Ç∑„Éº„ÉÅ„Ç≠„É≥„Éû„É®Ôºâ<br>
                                            „Åä„Å´„Åé„ÇäÔºàÂ°©Ôºâ
                                        </div>
                                    </td>
                                    <td><span class="status-badge-mini bg-ok">OK</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="data-card">
                        <h3>Á∂ôÁ∂ö„Éà„É©„ÉÉ„Ç´„Éº
                            <div class="toggle-group" style="display:inline-flex; gap:5px; float:right;">
                                <button onclick="renderHabitCalendar('week')" class="focus-select"
                                    style="padding:2px 8px; font-size:0.8rem;">ÈÄ±Èñì</button>
                                <button onclick="renderHabitCalendar('month')" class="focus-select"
                                    style="padding:2px 8px; font-size:0.8rem;">ÊúàÈñì</button>
                                <button onclick="renderHabitCalendar('year')" class="focus-select"
                                    style="padding:2px 8px; font-size:0.8rem;">Âπ¥Èñì</button>
                            </div>
                        </h3>
                        <div id="habitCalendar" style="display:grid; gap:8px; margin-top:10px;">
                            <!-- JS„ÅßÁîüÊàê -->
                        </div>
                        <div style="font-size:0.8rem; color:#666; margin-top:10px; text-align:right;">
                            <span style="margin-right:10px;">üôÜ Ë®òÈå≤„ÅÇ„Çä</span>
                            <span>üç≥ Ëá™ÁÇäOK</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Á≠ã„Éà„É¨„Éá„Éº„Çø„Çª„ÇØ„Ç∑„Éß„É≥ -->
            <section class="data-section">
                <div class="data-header">
                    <span>üí™ ÈÉ®‰ΩçÂà•„Éª„Éà„É¨„Éº„Éã„É≥„Ç∞ÂàÜÊûê</span>
                    <select class="focus-select" id="muscleFocus" onchange="updateMuscleFocus()">
                        <option value="all">ÂÖ®‰Ωì„ÇíË°®Á§∫</option>
                        <option value="chest">ËÉ∏ (Chest) „Å´ÈõÜ‰∏≠</option>
                        <option value="legs">ËÑö (Legs) „Å´ÈõÜ‰∏≠</option>
                        <option value="back">ËÉå‰∏≠ (Back) „Å´ÈõÜ‰∏≠</option>
                    </select>
                </div>

                <!-- ËÉ∏ (Chest) „Éñ„É≠„ÉÉ„ÇØ -->
                <div class="data-card muscle-block chest"
                    style="margin-bottom: 2rem; display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; align-items: start;">
                    <div>
                        <h4
                            style="border-left: 4px solid #ef4444; padding-left: 12px; margin-bottom: 1rem; color: var(--text-main); font-size: 1.1rem;">
                            ËÉ∏ (Chest)</h4>
                        <table class="log-table">
                            <thead>
                                <tr>
                                    <th>Á®ÆÁõÆ</th>
                                    <th>ÂÜÖÂÆπ</th>
                                    <th>Vol</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>„Éô„É≥„ÉÅ„Éó„É¨„Çπ</td>
                                    <td>60kg x 8 x 3</td>
                                    <td><span class="volume-tag">1440kg</span></td>
                                </tr>
                                <tr>
                                    <td>„ÉÄ„É≥„Éô„É´„Éï„É©„Ç§</td>
                                    <td>12kg x 12 x 3</td>
                                    <td><span class="volume-tag">432kg</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                        <canvas id="chestTrendChart" height="260"></canvas>
                    </div>
                    <!-- „Çª„ÉÉ„Ç∑„Éß„É≥Â±•Ê≠¥ (ÂÄãÂà•ÈÅ∏ÊäûÊôÇ„ÅÆ„ÅøË°®Á§∫) -->
                    <div class="session-history chest-history">
                        <h5 style="font-size: 0.9rem; margin-bottom: 0.8rem; color: var(--text-light);">ÂÆüÊñΩ„Çª„ÉÉ„Ç∑„Éß„É≥Â±•Ê≠¥</h5>
                        <div class="session-date"><i>üóì</i> 12/25 07:15</div>
                        <div class="session-date"><i>üóì</i> 12/21 19:30</div>
                        <div class="session-date"><i>üóì</i> 12/17 06:45</div>
                        <div class="session-date"><i>üóì</i> 12/13 20:15</div>
                    </div>
                </div>

                <!-- ËÑö (Legs) „Éñ„É≠„ÉÉ„ÇØ -->
                <div class="data-card muscle-block legs"
                    style="margin-bottom: 2rem; display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; align-items: start;">
                    <div>
                        <h4
                            style="border-left: 4px solid #3b82f6; padding-left: 12px; margin-bottom: 1rem; color: var(--text-main); font-size: 1.1rem;">
                            ËÑö (Legs)</h4>
                        <table class="log-table">
                            <thead>
                                <tr>
                                    <th>Á®ÆÁõÆ</th>
                                    <th>ÂÜÖÂÆπ</th>
                                    <th>Vol</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>„Çπ„ÇØ„ÉØ„ÉÉ„Éà</td>
                                    <td>85kg x 10 x 3</td>
                                    <td><span class="volume-tag">2550kg</span></td>
                                </tr>
                                <tr>
                                    <td>„É¨„ÉÉ„Ç∞„Éó„É¨„Çπ</td>
                                    <td>120kg x 12 x 3</td>
                                    <td><span class="volume-tag">4320kg</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                        <canvas id="legsTrendChart" height="260"></canvas>
                    </div>
                    <!-- „Çª„ÉÉ„Ç∑„Éß„É≥Â±•Ê≠¥ (ÂÄãÂà•ÈÅ∏ÊäûÊôÇ„ÅÆ„ÅøË°®Á§∫) -->
                    <div class="session-history legs-history">
                        <h5 style="font-size: 0.9rem; margin-bottom: 0.8rem; color: var(--text-light);">ÂÆüÊñΩ„Çª„ÉÉ„Ç∑„Éß„É≥Â±•Ê≠¥</h5>
                        <div class="session-date"><i>üóì</i> 12/24 07:00</div>
                        <div class="session-date"><i>üóì</i> 12/20 18:45</div>
                        <div class="session-date"><i>üóì</i> 12/16 07:15</div>
                    </div>
                </div>

                <!-- ËÉå‰∏≠ (Back) „Éñ„É≠„ÉÉ„ÇØ -->
                <div class="data-card muscle-block back"
                    style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; align-items: start;">
                    <div>
                        <h4
                            style="border-left: 4px solid #eab308; padding-left: 12px; margin-bottom: 1rem; color: var(--text-main); font-size: 1.1rem;">
                            ËÉå‰∏≠ (Back)</h4>
                        <table class="log-table">
                            <thead>
                                <tr>
                                    <th>Á®ÆÁõÆ</th>
                                    <th>ÂÜÖÂÆπ</th>
                                    <th>Vol</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>„Éá„ÉÉ„Éâ„É™„Éï„Éà</td>
                                    <td>110kg x 5 x 2</td>
                                    <td><span class="volume-tag">1100kg</span></td>
                                </tr>
                                <tr>
                                    <td>„É©„ÉÉ„Éà„Éó„É´„ÉÄ„Ç¶„É≥</td>
                                    <td>45kg x 10 x 3</td>
                                    <td><span class="volume-tag">1350kg</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                        <canvas id="backTrendChart" height="260"></canvas>
                    </div>
                    <!-- „Çª„ÉÉ„Ç∑„Éß„É≥Â±•Ê≠¥ (ÂÄãÂà•ÈÅ∏ÊäûÊôÇ„ÅÆ„ÅøË°®Á§∫) -->
                    <div class="session-history back-history">
                        <h5 style="font-size: 0.9rem; margin-bottom: 0.8rem; color: var(--text-light);">ÂÆüÊñΩ„Çª„ÉÉ„Ç∑„Éß„É≥Â±•Ê≠¥</h5>
                        <div class="session-date"><i>üóì</i> 12/23 19:00</div>
                        <div class="session-date"><i>üóì</i> 12/19 06:30</div>
                        <div class="session-date"><i>üóì</i> 12/15 20:00</div>
                    </div>
                </div>
            </section>

            <!-- ‰ΩìÈáç„ÉªÊ≠©Êï∞„Çª„ÇØ„Ç∑„Éß„É≥ -->
            <section class="data-section">
                <div class="data-header">üìâ ‰ΩìÈáç„ÉªÊ¥ªÂãïÈáèÊé®Áßª</div>
                <div class="data-grid">
                    <div class="data-card">
                        <canvas id="bodyMetricsChart" height="250"></canvas>
                    </div>
                    <div class="data-card">
                        <canvas id="stepsChart" height="250"></canvas>
                    </div>
                </div>
            </section>

            <!-- Áù°Áú†„Çª„ÇØ„Ç∑„Éß„É≥ -->
            <section class="data-section">
                <div class="data-header">üò¥ Áù°Áú†„ÇØ„Ç™„É™„ÉÜ„Ç£</div>
                <div class="data-grid">
                    <div class="data-card">
                        <h3>Áõ¥Ëøë1ÈÄ±Èñì„ÅÆÁù°Áú†ÊôÇÈñì</h3>
                        <div style="height: 220px;">
                            <canvas id="sleepDurationChart"></canvas>
                        </div>
                        <div
                            style="margin-top: 1.5rem; padding: 1rem; background: #fff; border-radius: 8px; border: 1px solid #e2e8f0; text-align: center;">
                            <span style="font-size: 0.9rem; color: var(--text-light);">‰∏ÄÈÄ±ÈñìÂπ≥ÂùáÁù°Áú†ÊôÇÈñì</span>
                            <div style="font-size: 1.8rem; font-weight: 800; color: #8b5cf6;">7h 08m</div>
                        </div>
                    </div>
                    <div class="data-card">
                        <h3>Â∞±ÂØù„ÉªËµ∑Â∫äÊôÇÂàª„ÅÆÂÆâÂÆöÊÄß</h3>
                        <table class="log-table">
                            <thead>
                                <tr>
                                    <th>Êó•‰ªò</th>
                                    <th>Â∞±ÂØù</th>
                                    <th>Ëµ∑Â∫ä</th>
                                    <th>ÊôÇÈñì</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>12/26</td>
                                    <td>21:30</td>
                                    <td>05:30</td>
                                    <td>8h 0m</td>
                                </tr>
                                <tr>
                                    <td>12/25</td>
                                    <td>23:30</td>
                                    <td>06:30</td>
                                    <td>7h 0m</td>
                                </tr>
                                <tr>
                                    <td>12/24</td>
                                    <td>23:15</td>
                                    <td>06:15</td>
                                    <td>7h 0m</td>
                                </tr>
                                <tr>
                                    <td>12/23</td>
                                    <td>00:10</td>
                                    <td>07:00</td>
                                    <td>6h 50m</td>
                                </tr>
                                <tr>
                                    <td>12/22</td>
                                    <td>23:45</td>
                                    <td>06:30</td>
                                    <td>6h 45m</td>
                                </tr>
                                <tr>
                                    <td>12/21</td>
                                    <td>23:00</td>
                                    <td>06:00</td>
                                    <td>7h 0m</td>
                                </tr>
                                <tr>
                                    <td>12/20</td>
                                    <td>00:30</td>
                                    <td>07:45</td>
                                    <td>7h 15m</td>
                                </tr>
                                <tr>
                                    <td>12/19</td>
                                    <td>23:15</td>
                                    <td>05:45</td>
                                    <td>6h 30m</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>

            <!-- „Éá„Ç§„É™„ÉºË©≥Á¥∞„Çª„ÇØ„Ç∑„Éß„É≥Ôºà„Éâ„É™„É´„ÉÄ„Ç¶„É≥Ôºâ -->
            <section class="data-section" style="background: var(--bg-card); border: 2px solid var(--primary);">
                <div class="data-header">
                    <span>üîç Êú¨Êó•„ÅÆË©≥Á¥∞ÂàÜÊûê (12/26)</span>
                    <input type="date" class="focus-select" value="2025-12-26">
                </div>
                <div class="data-grid">
                    <div class="data-card" style="background: white;">
                        <h4 style="margin-bottom:1rem; color:var(--primary);">Êú¨Êó•„ÅÆ„Éè„Ç§„É©„Ç§„Éà</h4>
                        <ul style="list-style:none; line-height:1.8; font-size:0.95rem;">
                            <li>‚è≥ <strong>Ê≠©Êï∞:</strong> Ë®àÊ∏¨‰∏≠...</li>
                            <li>running <strong>Ê¥ªÂãï:</strong> Êó•‰∏≠Ê¥ªÂãï‰∏≠</li>
                            <li>‚úÖ <strong>È£ü‰∫ã:</strong> „Çµ„É≥„Éâ„Ç§„ÉÉ„ÉÅ„ÄÅ„Éê„Éä„ÉäÁ≠â (Â∞èÂàÜ„ÅëÈ£ü)„ÄÅÂ§ú:„Å®„Çì„Åã„Å§„Éª„Åã„Çâ„ÅÇ„ÅíÁ≠â</li>
                            <li>‚úÖ <strong>Áù°Áú†:</strong> 21:30 - 05:30 (8h) ‚Äª23:30„Å´‰∏≠ÈÄîË¶öÈÜí</li>
                        </ul>
                    </div>
                    <div class="data-card" style="background: white;">
                        <h4 style="margin-bottom:1rem; color:var(--primary);">‰ΩìÊÑü„Éª„É°„É¢</h4>
                        <p style="font-size:0.9rem; color:var(--text-main); line-height:1.6;">
                            „Éô„É≥„ÉÅ„Éó„É¨„Çπ„ÅÆÊúÄÁµÇ„Çª„ÉÉ„Éà„ÅßÁ≤ò„Çä„ÅåÂäπ„ÅÑ„Åü„ÄÇ‰ΩìÈáç„ÅØÂæÆÊ∏õÂÇæÂêë„Å†„Åå„Éë„ÉØ„Éº„ÅØËêΩ„Å°„Å¶„ÅÑ„Å™„ÅÑ„ÄÇÊòéÊó•„ÅØËÉå‰∏≠„ÅÆÊó•„Å™„ÅÆ„Åß„Åó„Å£„Åã„Çä„Å®Áù°Áú†„ÇíÁ¢∫‰øù„Åó„Åü„ÅÑ„ÄÇ
                        </p>
                    </div>
                </div>
            </section>

        </main>

        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <script>
            function updateMuscleFocus() {
                const focus = document.getElementById('muscleFocus').value;
                const blocks = document.querySelectorAll('.muscle-block');
                const histories = document.querySelectorAll('.session-history');

                blocks.forEach(block => {
                    if (focus === 'all' || block.classList.contains(focus)) {
                        block.style.display = 'grid';

                        // ÂÄãÂà•ÈÅ∏ÊäûÊôÇ„ÅØÂ±•Ê≠¥„ÇíË°®Á§∫
                        const history = block.querySelector('.session-history');
                        if (history) {
                            history.style.display = (focus === 'all') ? 'none' : 'block';
                        }
                    } else {
                        block.style.display = 'none';
                    }
                });
            }

            // --- Habit Tracker Logic ---
            // ‰ªÆÊÉ≥„Éá„Éº„ÇøÔºàÊú¨Êù•„ÅØ„Çµ„Éº„Éê„Éº„ÇÑ„ÉÜ„Éº„Éñ„É´„Åã„ÇâÂèñÂæóÔºâ
            const mealLogs = {
                "2025-12-27": { hasLog: true, isCook: true },
                "2025-12-26": { hasLog: true, isCook: true },
                "2025-12-25": { hasLog: true, isCook: true },
                "2025-12-24": { hasLog: true, isCook: true },
                "2025-12-23": { hasLog: true, isCook: true },
                "2025-12-22": { hasLog: true, isCook: true },
                "2025-12-21": { hasLog: true, isCook: true },
                "2025-12-20": { hasLog: true, isCook: true },
            };

            function renderHabitCalendar(range) {
                const container = document.getElementById('habitCalendar');
                container.innerHTML = '';

                const now = new Date("2025-12-26T12:00:00"); // Âü∫Ê∫ñÊó•Âõ∫ÂÆö

                if (range === 'year') {
                    // --- Âπ¥Èñì„Éì„É•„ÉºÔºàÊúà„Åî„Å®„ÅÆÈÅîÊàêÁéáÔºâ ---
                    container.style.cssText = `display:grid; gap:8px; margin-top:10px; grid-template-columns: repeat(4, 1fr);`;

                    // 1Êúà„Äú12Êúà„ÅÆ„ÉÄ„Éü„Éº„Éá„Éº„ÇøÁîüÊàêÔºà12Êúà„Å†„Åë„É™„Ç¢„É´„Å£„ÅΩ„ÅèÔºâ
                    const months = [
                        { m: 1, rate: 0 }, { m: 2, rate: 0 }, { m: 3, rate: 0 },
                        { m: 4, rate: 0 }, { m: 5, rate: 20 }, { m: 6, rate: 45 },
                        { m: 7, rate: 60 }, { m: 8, rate: 80 }, { m: 9, rate: 75 },
                        { m: 10, rate: 90 }, { m: 11, rate: 85 }, { m: 12, rate: 95 }
                    ];

                    months.forEach(d => {
                        let bgColor = "#f8fafc";
                        let borderColor = "#e2e8f0";
                        let textColor = "#94a3b8";

                        // ÈÅîÊàêÁéá„Å´Âøú„Åò„ÅüËâ≤ÂàÜ„ÅëÔºàÁ∑ëÔºùÈ´ò„ÄÅÈªÑÔºù‰∏≠„ÄÅËµ§„Ç™„É¨Ôºù‰ΩéÔºâ
                        if (d.rate > 0) {
                            textColor = "#0f172a";

                            if (d.rate >= 80) {
                                // High: Light Green
                                bgColor = "#dcfce7";
                                borderColor = "#86efac";
                                textColor = "#14532d";
                            }
                            else if (d.rate >= 60) {
                                // Mid: Yellow
                                bgColor = "#fef9c3";
                                borderColor = "#fde047";
                                textColor = "#854d0e";
                            }
                            else {
                                // Low: Red-Orange
                                bgColor = "#ffedd5";
                                borderColor = "#fdba74";
                                textColor = "#9a3412";
                            }
                        }

                        const cell = document.createElement('div');
                        cell.style.cssText = `
                            background: ${bgColor};
                            border: 1px solid ${borderColor};
                            border-radius: 8px;
                            padding: 8px 2px;
                            text-align: center;
                            font-weight: bold;
                            color: ${textColor};
                            display: flex;
                            flex-direction: column;
                            justify-content: center;
                            align-items: center;
                            min-height: 50px;
                        `;
                        cell.innerHTML = `
                            <div style="font-size:0.75rem; opacity:0.8;">${d.m}Êúà</div>
                            <div style="font-size:1.1rem;">${d.rate > 0 ? d.rate + '%' : '-'}</div>
                        `;
                        container.appendChild(cell);
                    });

                } else {
                    // --- ÈÄ±Èñì„ÉªÊúàÈñì„Éì„É•„ÉºÔºàÊó•Ê¨°„É≠„Ç∞Ôºâ ---
                    let daysToShow = 7;
                    let gridStyle = "grid-template-columns: repeat(7, 1fr);";

                    if (range === 'month') {
                        daysToShow = 30;
                        gridStyle = "grid-template-columns: repeat(7, 1fr);";
                    }

                    container.style.cssText = `display:grid; gap:8px; margin-top:10px; ${gridStyle}`;

                    for (let i = daysToShow - 1; i >= 0; i--) {
                        const d = new Date(now);
                        d.setDate(d.getDate() - i);
                        const dateStr = d.toISOString().split('T')[0];
                        const dayNum = d.getDate();

                        const log = mealLogs[dateStr];
                        let content = `<div style="color:#ccc;">-</div>`;
                        let bgColor = "#f8fafc";
                        let borderColor = "#e2e8f0";

                        if (log) {
                            if (log.isCook) {
                                content = "üç≥";
                                bgColor = "#dcfce7"; // Green Light
                                borderColor = "#86efac";
                            } else {
                                content = "üôÜ"; // Ë®òÈå≤„ÅØ„ÅÇ„Çã„ÅåÂ§ñÈ£ü
                                bgColor = "#fff7ed"; // Orange Light
                                borderColor = "#fdba74";
                            }
                        }

                        const cell = document.createElement('div');
                        cell.style.cssText = `
                            background: ${bgColor};
                            border: 1px solid ${borderColor};
                            border-radius: 8px;
                            padding: 8px 4px;
                            text-align: center;
                            font-weight: bold;
                        `;
                        cell.innerHTML = `
                            <div style="font-size:0.7rem; color:#64748b; margin-bottom:4px;">${d.getMonth() + 1}/${dayNum}</div>
                            <div style="font-size:1.2rem;">${content}</div>
                        `;
                        container.appendChild(cell);
                    }
                }
            }

            // ÂàùÊúüË°®Á§∫
            renderHabitCalendar('week'); // „Éá„Éï„Ç©„É´„Éà„ÅØÈÄ±ÈñìË°®Á§∫

            function updateSummaryColors() {
                // Helper to set color
                const setCardColor = (id, hue) => {
                    const el = document.getElementById(id);
                    if (!el) return;
                    // HSL Colors
                    // Bg: Light (L=96%), Border: Medium (L=80%), Text: Dark (L=25%)
                    el.style.backgroundColor = `hsl(${hue}, 80%, 96%)`;
                    el.style.border = `1px solid hsl(${hue}, 80%, 80%)`;

                    // Main Text Color
                    el.style.color = `hsl(${hue}, 90%, 20%)`;

                    // Adjust value text color specifically
                    const valEl = el.querySelector('.value');
                    if (valEl) valEl.style.color = `hsl(${hue}, 90%, 25%)`;
                    const labelEl = el.querySelector('.label');
                    if (labelEl) labelEl.style.color = `hsl(${hue}, 50%, 40%)`;
                };

                // 1. Weight (Target 70kg)
                // 70 -> Green (120), 90 -> Red (0)
                const weight = 72.6;
                const weightBest = 70;
                const weightWorst = 90;
                let wHue = 120;
                if (weight > weightBest) {
                    const diff = weight - weightBest;
                    const range = weightWorst - weightBest;
                    let ratio = diff / range; // 2.6 / 20 = 0.13
                    if (ratio > 1) ratio = 1;
                    wHue = 120 * (1 - ratio); // 120 * 0.87 = 104
                }
                setCardColor('cardWeight', wHue);

                // 2. Steps (Target 6000)
                // 6000 -> Green (120), 0 -> Red (0)
                const steps = 8028;
                const stepsBest = 6000;
                let sHue = 120;
                if (steps < stepsBest) {
                    const ratio = steps / stepsBest;
                    sHue = 120 * ratio;
                }
                setCardColor('cardSteps', sHue);

                // 3. Sleep (Target 8h)
                // 8 -> Green (120), 0 -> Red (0)
                const sleep = 6.9;
                const sleepBest = 8;
                let slHue = 120;
                if (sleep < sleepBest) {
                    const ratio = sleep / sleepBest;
                    slHue = 120 * ratio; // 6.9/8 * 120 ~= 103
                }
                setCardColor('cardSleep', slHue);

                // 4. Training (Recency)
                // Since data is hardcoded "Êò®Êó•" -> Green (120)
                setCardColor('cardTraining', 120);
            }
            updateSummaryColors();

            // 2-1. Chest Exercise Trends

            // 2-1. Chest Exercise Trends
            new Chart(document.getElementById('chestTrendChart'), {
                type: 'line',
                data: {
                    labels: ['12/10', '12/11', '12/12', '12/13', '12/14', '12/15', '12/16', '12/17', '12/18', '12/19', '12/20', '12/21', '12/22', '12/23', '12/24', '12/25'],
                    datasets: [
                        { label: '„Éô„É≥„ÉÅ„Éó„É¨„Çπ', data: [1200, null, null, null, null, 1300, null, null, null, null, 1400, null, null, null, null, 1440], borderColor: '#f43f5e', borderWidth: 3, tension: 0.3, spanGaps: true },
                        { label: '„ÉÄ„É≥„Éô„É´„Éï„É©„Ç§', data: [300, null, null, null, null, 350, null, null, null, null, 400, null, null, null, null, 432], borderColor: '#8b5cf6', borderWidth: 3, tension: 0.3, spanGaps: true }
                    ]
                },
                options: {
                    maintainAspectRatio: false,
                    plugins: { legend: { position: 'bottom', labels: { usePointStyle: true, font: { weight: 'bold' } } } },
                    scales: {
                        x: {
                            grid: {
                                display: true,
                                drawOnChartArea: true,
                                drawTicks: true,
                                color: '#94a3b8',
                                lineWidth: 1
                            },
                            ticks: {
                                autoSkip: false,
                                callback: function (val, index) {
                                    const tickLabel = ['12/10', '12/15', '12/20', '12/25'];
                                    const currentLabel = this.chart.data.labels[index];
                                    return tickLabel.includes(currentLabel) ? currentLabel : '';
                                }
                            }
                        }
                    }
                }
            });

            // 2-2. Legs Exercise Trends
            new Chart(document.getElementById('legsTrendChart'), {
                type: 'line',
                data: {
                    labels: ['12/10', '12/11', '12/12', '12/13', '12/14', '12/15', '12/16', '12/17', '12/18', '12/19', '12/20', '12/21', '12/22', '12/23', '12/24', '12/25'],
                    datasets: [
                        { label: '„Çπ„ÇØ„ÉØ„ÉÉ„Éà', data: [2100, null, null, null, null, 2300, null, null, null, null, 2450, null, null, null, null, 2550], borderColor: '#2563eb', borderWidth: 3, tension: 0.3, spanGaps: true },
                        { label: '„É¨„ÉÉ„Ç∞„Éó„É¨„Çπ', data: [3100, null, null, null, null, 3500, null, null, null, null, 3950, null, null, null, null, 4320], borderColor: '#0ea5e9', borderWidth: 3, tension: 0.3, spanGaps: true }
                    ]
                },
                options: {
                    maintainAspectRatio: false,
                    plugins: { legend: { position: 'bottom', labels: { usePointStyle: true, font: { weight: 'bold' } } } },
                    scales: {
                        x: {
                            grid: {
                                display: true,
                                drawOnChartArea: true,
                                drawTicks: true,
                                color: '#94a3b8',
                                lineWidth: 1
                            },
                            ticks: {
                                autoSkip: false,
                                callback: function (val, index) {
                                    const tickLabel = ['12/10', '12/15', '12/20', '12/25'];
                                    const currentLabel = this.chart.data.labels[index];
                                    return tickLabel.includes(currentLabel) ? currentLabel : '';
                                }
                            }
                        }
                    }
                }
            });

            // 2-3. Back Exercise Trends
            new Chart(document.getElementById('backTrendChart'), {
                type: 'line',
                data: {
                    labels: ['12/10', '12/11', '12/12', '12/13', '12/14', '12/15', '12/16', '12/17', '12/18', '12/19', '12/20', '12/21', '12/22', '12/23', '12/24', '12/25'],
                    datasets: [
                        { label: '„Éá„ÉÉ„Éâ„É™„Éï„Éà', data: [800, null, null, null, null, 950, null, null, null, null, 1050, null, null, null, null, 1100], borderColor: '#d97706', borderWidth: 3, tension: 0.3, spanGaps: true },
                        { label: '„É©„ÉÉ„Éà„Éó„É´„ÉÄ„Ç¶„É≥', data: [1100, null, null, null, null, 1200, null, null, null, null, 1300, null, null, null, null, 1350], borderColor: '#10b981', borderWidth: 3, tension: 0.3, spanGaps: true }
                    ]
                },
                options: {
                    maintainAspectRatio: false,
                    plugins: { legend: { position: 'bottom', labels: { usePointStyle: true, font: { weight: 'bold' } } } },
                    scales: {
                        x: {
                            grid: {
                                display: true,
                                drawOnChartArea: true,
                                drawTicks: true,
                                color: '#94a3b8',
                                lineWidth: 1
                            },
                            ticks: {
                                autoSkip: false,
                                callback: function (val, index) {
                                    const tickLabel = ['12/10', '12/15', '12/20', '12/25'];
                                    const currentLabel = this.chart.data.labels[index];
                                    return tickLabel.includes(currentLabel) ? currentLabel : '';
                                }
                            }
                        }
                    }
                }
            });

            // 3. Body Metrics
            new Chart(document.getElementById('bodyMetricsChart'), {
                type: 'line',
                data: {
                    labels: ['12/19', '12/20', '12/21', '12/22', '12/23', '12/24', '12/25'],
                    datasets: [{
                        label: '‰ΩìÈáç(kg)',
                        data: [72.9, 72.8, 72.7, 72.8, 72.6, 72.5, 72.4],
                        borderColor: '#22c55e',
                        backgroundColor: 'rgba(34, 197, 94, 0.1)',
                        borderWidth: 4,
                        yAxisID: 'y',
                        tension: 0.3
                    },
                    {
                        label: '‰ΩìËÑÇËÇ™(%)',
                        data: [23.7, 23.8, 23.6, 23.7, 23.6, 23.5, 23.5],
                        borderColor: '#f97316',
                        backgroundColor: 'rgba(249, 115, 22, 0.1)',
                        borderWidth: 4,
                        yAxisID: 'y1',
                        tension: 0.3
                    }]
                },
                options: {
                    plugins: { title: { display: true, text: '‰ΩìÈáç„Éª‰ΩìËÑÇËÇ™„ÅÆÊé®ÁßªÔºàÊó•Ê¨°Ôºâ' } },
                    scales: {
                        y: {
                            position: 'left',
                            title: { display: true, text: '‰ΩìÈáç(kg)' },
                            min: 65,
                            max: 90
                        },
                        y1: {
                            position: 'right',
                            grid: { drawOnChartArea: false },
                            title: { display: true, text: '‰ΩìËÑÇËÇ™(%)' },
                            min: 15,
                            max: 30
                        },
                        x: {
                            grid: {
                                display: true,
                                drawOnChartArea: true,
                                drawTicks: true,
                                color: '#94a3b8',
                                lineWidth: 1
                            }
                        }
                    }
                }
            });

            // 4. Steps
            new Chart(document.getElementById('stepsChart'), {
                data: {
                    labels: ['Êúà', 'ÁÅ´', 'Ê∞¥', 'Êú®', 'Èáë', 'Âúü', 'Êó•'],
                    datasets: [
                        {
                            type: 'bar',
                            label: 'Ê≠©Êï∞',
                            data: [7200, 8402, 6500, 9100, 8000, 12000, 5000],
                            backgroundColor: '#3b82f6',
                            order: 2
                        },
                        {
                            type: 'line',
                            label: 'ÁõÆÊ®ôÂü∫Ê∫ñÂÄ§ (6000Ê≠©)',
                            data: [6000, 6000, 6000, 6000, 6000, 6000, 6000],
                            borderColor: '#ef4444',
                            borderWidth: 2,
                            borderDash: [5, 5],
                            fill: false,
                            pointRadius: 0,
                            pointStyle: 'dash',
                            order: 1
                        }
                    ]
                },
                options: {
                    plugins: {
                        title: { display: true, text: 'ÈÄ±ÈñìÊ≠©Êï∞„ÅÆÊé®Áßª' },
                        legend: {
                            labels: {
                                usePointStyle: true
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            suggestedMax: 13000
                        },
                        x: {
                            grid: {
                                display: true,
                                drawOnChartArea: true,
                                drawTicks: true,
                                color: '#94a3b8',
                                lineWidth: 1
                            }
                        }
                    }
                }
            });

            // 5. Sleep Duration
            new Chart(document.getElementById('sleepDurationChart'), {
                type: 'line',
                data: {
                    labels: ['12/20', '12/21', '12/22', '12/23', '12/24', '12/25', '12/26'],
                    datasets: [{
                        label: 'Áù°Áú†ÊôÇÈñì(h)',
                        data: [7.2, 7.0, 6.8, 6.9, 7.0, 7.0, 8.0],
                        borderColor: '#8b5cf6',
                        fill: true,
                        backgroundColor: 'rgba(139, 92, 246, 0.1)',
                        tension: 0.3
                    }]
                },
                options: {
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            suggestedMax: 8,
                            ticks: {
                                callback: function (value) { return value + 'h'; }
                            }
                        },
                        x: {
                            grid: {
                                display: true,
                                drawOnChartArea: true,
                                drawTicks: true,
                                color: '#94a3b8',
                                lineWidth: 1
                            }
                        }
                    },
                    plugins: {
                        legend: { display: false }
                    }
                }
            });
        </script>

        <style>
            .main-layout {
                grid-template-columns: 1fr !important;
            }
        </style>
    </div>

    <footer class="child-footer">
        <div class="container">
            <p>&copy; 2025 Body Logic | Re:Birth 55 Project <span id="visit-counter"
                    style="margin-left:10px; font-size:0.8rem; color:#888;">Ë®™ÂïèÊï∞Ôºö--</span></p>
        </div>
    </footer>
    <script src="counter.js"></script>
</body>

</html>